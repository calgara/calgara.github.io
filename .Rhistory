nes1998$pid[nes1998$pid %in% as.character(na[8:10,3])] <- NA
nes1998$pid <- factor(nes1998$pid,levels=c("Strong Republican","Weak Republican","Lean Republican","Independent","Lean Democrat","Weak Democrat","Strong Democrat"))
summary(model <- glm(impeach ~ pid, data=nes1998, family = binomial(link = "logit")))
coeftest(model, vcov = vcovHC(model, "HC3"))
plot(predict <- effect("pid", se=TRUE, mod = model, confidence.level = 0.95, xlevels=list(vcov.=vcovHC(model, "HC3")))) # Plot the result
predict <- data.frame(predict)
predict$question <- "Question: If President Clinton does not resign, should he be impeached?"
predict$pid <- ifelse(predict$pid == "Strong Republican", "Strong \nRepublican", ifelse(predict$pid == "Weak Republican", "Weak \nRepublican", ifelse(predict$pid == "Lean Republican", "Lean \nRepublican", ifelse(predict$pid == "Independent", "Independent", ifelse(predict$pid == "Strong Democrat", "Strong \nDemocrat", ifelse(predict$pid == "Weak Democrat", "Weak \nDemocrat", ifelse(predict$pid == "Lean Democrat", "Lean \nDemocrat", NA)))))))
myColors <- c("firebrick1","firebrick2","firebrick3","purple","dodgerblue3","dodgerblue2","dodgerblue1")
names(myColors) <- levels(predict$pid)
colScale <- scale_colour_manual("",values = myColors)
myShapes <- c(17,17,17,18,16,16,16)
names(myShapes) <- levels(predict$cong_approval_dich)
colShape <- scale_shape_manual("",values=myShapes)
predict$pid <- factor(predict$pid,levels=c("Strong \nRepublican","Weak \nRepublican", "Lean \nRepublican", "Independent", "Lean \nDemocrat", "Weak \nDemocrat", "Strong \nDemocrat"))
plot <- ggplot(predict, aes(x=pid, y=fit, ymin=lower, ymax=upper, colour = pid)) + geom_pointrange() + colScale + theme_bw() + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) + scale_y_continuous(limits=c(0,0.604), breaks=seq(0,0.60,0.10), "Predicted Probability of Approving of Impeachment") + facet_wrap(~question) + scale_x_discrete("") + theme(legend.position="none") + geom_hline(yintercept = 0.50, colour = gray(1/2), lty = 2) + ggtitle("Probability of Approving of Impeachment Action against President Clinton by Partisanship, 1998")
grid.newpage()
footnote <- "Carlos Algara: @algaraca / Data: 1998 American National Election Study (ANES)"
footnote2 <- "Probabilities estimated from bivariate logistic regression model. Confidence intervals estimated with Huber-White Robust standard errors."
g <- arrangeGrob(plot, right = textGrob(footnote, x = 0, hjust = 0.5, vjust= 1, rot = 90, gp = gpar(fontface = "italic", fontsize = 12, col = "blue")), bottom = textGrob(footnote2, x = 0.015, hjust = 0, vjust= 0, gp = gpar(fontface = "italic", fontsize = 9, col = "black")))
grid.draw(g)
myColors <- c("firebrick3","firebrick2","firebrick1","purple","dodgerblue1","dodgerblue2","dodgerblue3")
names(myColors) <- levels(predict$pid)
colFill <- scale_fill_manual("",values = myColors)
plot <- ggplot(predict, aes(x=pid, y=fit, ymin=lower, ymax=upper, fill = pid)) + geom_bar(stat="identity") + colFill + geom_errorbar(width=.25) + theme_bw() + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) + scale_y_continuous(limits=c(0,0.604), breaks=seq(0.10,0.60,0.10), expand = c(0, 0), "Predicted Probability of Approving of Impeachment") + facet_wrap(~question) + scale_x_discrete("") + theme(legend.position="none") + geom_hline(yintercept = 0.50, colour = gray(1/2), lty = 2) + ggtitle("Probability of Approving of Impeachment Action against President Clinton by Partisanship, 1998")
grid.newpage()
footnote <- "Carlos Algara: @algaraca / Data: 1998 American National Election Study (ANES)"
footnote2 <- "Probabilities estimated from bivariate logistic regression model. Confidence intervals estimated with Huber-White Robust standard errors."
g <- arrangeGrob(plot, right = textGrob(footnote, x = 0, hjust = 0.5, vjust= 1, rot = 90, gp = gpar(fontface = "italic", fontsize = 12, col = "blue")), bottom = textGrob(footnote2, x = 0.015, hjust = 0, vjust= 0, gp = gpar(fontface = "italic", fontsize = 9, col = "black")))
grid.draw(g)
plot <- ggplot(predict, aes(x=pid, y=fit, ymin=lower, ymax=upper, fill = pid)) + geom_bar(stat="identity") + colFill + geom_errorbar(width=.25) + theme_bw() + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) + scale_y_continuous(limits=c(0,0.65), breaks=seq(0.10,0.60,0.10), expand = c(0, 0), "Predicted Probability of Approving of Impeachment") + facet_wrap(~question) + scale_x_discrete("") + theme(legend.position="none") + geom_hline(yintercept = 0.50, colour = gray(1/2), lty = 2) + ggtitle("Probability of Approving of Impeachment Action against President Clinton by Partisanship, 1998")
plot
install.packages("clusterSEs")
library(readstata13)
library(xlsx)
library(xlsx)
.libPaths()
library(xlsx)
remove.packages("rJava")
library(xlsx)
install.packages("rJava")
library(xlsx)
library(xlsx)
library(xlsx)
library(xlsx)
dyn.load("Applications/Stata 14/utilities/java/maxosx-x64/jre1.8.0_31 /lib/server/libjvm.dylib /usr/local/lib/server/libjvm.dylib")
dyn.load("Macintosh HD/Applications/Stata 14/utilities/java/maxosx-x64/jre1.8.0_31 /lib/server/libjvm.dylib /usr/local/lib/server/libjvm.dylib")
dyn.load("/Applications/Stata 14/utilities/java/macosx-x64/jre1.8.0_31/lib/server/libjvm.dylib")
library(xlsx)
library(xlsx)
library(xlsx)
library(xlsx)
library(xlsx)
libPaths
.libPaths
.libPaths()
dyn.load("/Applications/Stata 14/utilities/java/macosx-x64/jre1.8.0_31/lib/server/libjvm.dylib")
library(xlsx)
cces_variables <- read.xlsx("/Users/carlosalgara/Desktop/carlos_school/PhD_UC Davis/Research/Twitter/Butters_NetworkDisagreement.xlsx", sheetName = "R_IMPORT" , header = TRUE, stringsAsFactors = FALSE)
library(xlsx)
install.packages("rJava")
library(xlsx)
dyn.load("/Applications/Stata 14/utilities/java/macosx-x64/jre1.8.0_31/lib/server/libjvm.dylib")
library(xlsx)
library(xlsx)
dyn.load("/Applications/Stata 14/utilities/java/macosx-x64/jre1.8.0_31/lib/server/libjvm.dylib")
library(xlsx)
install.packages('rJava')
install.packages("rJava")
library(rJava)
library(rJava)
remove.packages("xlsx")
remove.packages(rJava)
remove.packages("rJava")
remove.package("xlsxjars")
remove.packages("xlsxjars")
library(xlsx)
dyn.load("/Applications/Stata 14/utilities/java/macosx-x64/jre1.8.0_31/lib/server/libjvm.dylib")
library(xlsx)
install.packages("xlsx")
.libPaths()
library(xlsx)
dyn.load("/Applications/Stata 14/utilities/java/macosx-x64/jre1.8.0_31/lib/server/libjvm.dylib")
library(xlsx)
library(xlsx)
library(rJava)
library(xlsx)
library(xlsx)
remove.packages(rJava, lib)
library(xlsx)
library(rJava)
remove.packages("rJava")
install.packages("~/Downloads/rJava_0.9-9.tar", repos = NULL)
install.packages("~/Downloads/rJava_0.9-9.tar.gz", repos = NULL)
install.packages("~/Desktop/rJava_0.9-9.tar.gz", repos = NULL, type = "source")
install.packages("rJava",,"http://rforge.net")
library(xlsx)
dyn.load("/Applications/Stata 14/utilities/java/macosx-x64/jre1.8.0_31/lib/server/libjvm.dylib")
library(xlsx)
library(xlsx)
library(xlsx)
library(xlsx)
dyn.load("/Applications/Stata 14/utilities/java/macosx-x64/jre1.8.0_31/lib/server/libjvm.dylib")
library(xlsx)
cces_variables <- read.xlsx("/Users/carlosalgara/Desktop/carlos_school/PhD_UC Davis/Research/Twitter/Butters_NetworkDisagreement.xlsx", sheetName = "R_IMPORT" , header = TRUE, stringsAsFactors = FALSE)
dyn.load("/Applications/Stata 14/utilities/java/macosx-x64/jre1.8.0_31/lib/server/libjvm.dylib")
require(rJava)
library(xlsx)
library(xlsx)
library(xlsx)
library(xlsx)
library(xlsx)
library(xlsx)
library(rJava)
library(xlsx)
library(xlsx)
library(xlsx)
library(rJava)
library(xlsx)
library(xlsx)
library(xlsx)
library(xlsx)
library(rJava)
library(xlsx)
library(xlsx)
install.packages("ggmckmc")
install.packages("ggmcmc")
install.packages("mvc")
library(foreign)
library(MASS)
library(UsingR)
library(nlme)
library(Zelig)
library(lmtest)
library(sandwich)
library(car)
library(directlabels)
library(bbmle)
library(maxLik)
library(ggplot2)
library(RGraphics)
library(lattice)
library(latticeExtra)
library(VGAM)
library(mvtnorm)
library(ordinal)
library(nnet)
library(sampleSelection)
library(pscl)
library(lmtest)
library(aod)
library(scales)
library(gridExtra)
library(reshape2)
library(network)
library(Matrix)
library(igraph)
library(gmodels)
library(pastecs)
library(dplyr)
library(plyr)
library(coefplot)
library(psych)
library(descr)
library(data.table)
library(multiwayvcov)
library(compositions)
library(rms)
library(effects)
library(xlsx)
mc <- read.xlsx("/Users/carlosalgara/Desktop/carlos_school/PhD_UC Davis/TA Courses/Pol142C_Democracy_Spring2017/Midterm_Stats/midterm.xls", sheetName = "R_IMPORT" , header = TRUE, stringsAsFactors = FALSE)
mc <- read.xlsx("/Users/carlosalgara/Desktop/carlos_school/PhD_UC Davis/TA Courses/Pol142C_Democracy_Spring2017/Midterm_Stats/midterm_mcs.xlsx", sheetName = "R_IMPORT" , header = TRUE, stringsAsFactors = FALSE)
mc <- read.xlsx("/Users/carlosalgara/Desktop/carlos_school/PhD_UC Davis/TA Courses/Pol142C_Democracy_Spring2017/Midterm_Stats/midterm_mcs.xlsx", sheetName = "midterm" , header = TRUE, stringsAsFactors = FALSE)
essays <- read.xlsx("/Users/carlosalgara/Desktop/carlos_school/PhD_UC Davis/TA Courses/Pol142C_Democracy_Spring2017/Midterm_Stats/midterm_essays.xlsx", sheetName = "midterm" , header = TRUE, stringsAsFactors = FALSE)
essays <- read.xlsx("/Users/carlosalgara/Desktop/carlos_school/PhD_UC Davis/TA Courses/Pol142C_Democracy_Spring2017/Midterm_Stats/midterm_essays.xlsx", sheetName = "Sheet1" , header = TRUE, stringsAsFactors = FALSE)
View(mc)
View(essays)
colnames(essays)
colnames(mc)
colnames(essays) <- c("student_id","student_name","essay_score")
midterm <- merge(mc,essays,by=c("student_id"))
View(midterm)
midterm <- merge(mc,essays,by=c("student_id"),all=T)
View(midterm)
str(mc)
str(midterm)
library(foreign)
library(MASS)
library(UsingR)
library(nlme)
library(Zelig)
library(lmtest)
library(sandwich)
library(car)
library(directlabels)
library(bbmle)
library(maxLik)
library(ggplot2)
library(RGraphics)
library(lattice)
library(latticeExtra)
library(VGAM)
library(mvtnorm)
library(ordinal)
library(nnet)
library(sampleSelection)
library(pscl)
library(lmtest)
library(aod)
library(scales)
library(gridExtra)
library(reshape2)
library(network)
library(Matrix)
library(igraph)
library(gmodels)
library(pastecs)
library(dplyr)
library(plyr)
library(coefplot)
library(psych)
library(descr)
library(data.table)
library(multiwayvcov)
library(compositions)
library(rms)
library(effects)
# Import spreadsheets
library(xlsx)
mc <- read.xlsx("/Users/carlosalgara/Desktop/carlos_school/PhD_UC Davis/TA Courses/Pol142C_Democracy_Spring2017/Midterm_Stats/midterm_mcs.xlsx", sheetName = "midterm" , header = TRUE, stringsAsFactors = FALSE)
essays <- read.xlsx("/Users/carlosalgara/Desktop/carlos_school/PhD_UC Davis/TA Courses/Pol142C_Democracy_Spring2017/Midterm_Stats/midterm_essays.xlsx", sheetName = "Sheet1" , header = TRUE, stringsAsFactors = FALSE)
colnames(essays) <- c("student_id","student_name","essay_score")
mc$student_id <- as.numeric(mc$student_id)
essays$student_id <- as.numeric(essays$student_id)
View(essays)
midterm <- merge(mc,essays,by=c("student_id"),all=T)
View(midterm)
View(essays)
library(foreign)
library(MASS)
library(UsingR)
library(nlme)
library(Zelig)
library(lmtest)
library(sandwich)
library(car)
library(directlabels)
library(bbmle)
library(maxLik)
library(ggplot2)
library(RGraphics)
library(lattice)
library(latticeExtra)
library(VGAM)
library(mvtnorm)
library(ordinal)
library(nnet)
library(sampleSelection)
library(pscl)
library(lmtest)
library(aod)
library(scales)
library(gridExtra)
library(reshape2)
library(network)
library(Matrix)
library(igraph)
library(gmodels)
library(pastecs)
library(dplyr)
library(plyr)
library(coefplot)
library(psych)
library(descr)
library(data.table)
library(multiwayvcov)
library(compositions)
library(rms)
library(effects)
# Import spreadsheets
library(xlsx)
mc <- read.xlsx("/Users/carlosalgara/Desktop/carlos_school/PhD_UC Davis/TA Courses/Pol142C_Democracy_Spring2017/Midterm_Stats/midterm_mcs.xlsx", sheetName = "midterm" , header = TRUE, stringsAsFactors = FALSE)
essays <- read.xlsx("/Users/carlosalgara/Desktop/carlos_school/PhD_UC Davis/TA Courses/Pol142C_Democracy_Spring2017/Midterm_Stats/midterm_essays.xlsx", sheetName = "Sheet1" , header = TRUE, stringsAsFactors = FALSE)
colnames(essays) <- c("student_id","student_name","essay_score")
mc$student_id <- as.numeric(mc$student_id)
essays$student_id <- as.numeric(essays$student_id)
midterm <- merge(mc,essays,by=c("student_id"),all=T)
View(midterm)
colnames(midterm)
midterm <- subset(midterm,select=c("student_id","student_name","mc_score","essay_score"))
View(midterm)
View(midterm)
midterm$essay_score[midterm$student_id == 914382814] <- 12.5
View(midterm)
midterm$final_score <- midterm$mc_score + midterm$essay_score
View(midterm)
write.csv(midterm,"/Users/carlosalgara/Desktop/carlos_school/PhD_UC Davis/TA Courses/Pol142C_Democracy_Spring2017/Midterm_Stats/Pol142C_Democracy_Spring2017_midtermgrades.csv")
colnames(midterm)
midterm2 <- reshape(midterm,varying=c("mc_score","essay_score","final_score"), sep"_",timevar="score",times=c("mc","essay","final"),direction="long")
midterm2 <- reshape(midterm,varying=c("mc_score","essay_score","final_score"),timevar="score",times=c("mc","essay","final"),direction="long")
midterm2 <- midterm
colnames(midterm2)
colnames(midterm2) <- c("student_id","student_name","score1","score2","score3")
midterm2 <- reshape(midterm,varying=c("score1","score2","score3"),sep="",timevar="score",times=c("mc","essay","final"),direction="long")
colnames(midterm2) <- c("student_id","student_name","score1","score2","score3")
midterm2 <- reshape(midterm2,varying=c("score1","score2","score3"),sep="",timevar="score",times=c("mc","essay","final"),direction="long")
View(midterm2)
View(midterm2)
View(midterm2)
midterm2 <- midterm
colnames(midterm2) <- c("student_id","student_name","score1","score2","score3")
midterm2 <- reshape(midterm2,varying=c("score1","score2","score3"),sep="",timevar="score",times=c("1","2","3"),direction="long")
View(midterm2)
midterm2 <- reshape(midterm2,idvar="student_id",varying=c("score1","score2","score3"),sep="",timevar="score",times=c("mc","essay","final"),direction="long")
midterm2 <- midterm
colnames(midterm2) <- c("student_id","student_name","score1","score2","score3")
midterm2 <- reshape(midterm2,idvar="student_id",varying=c("score1","score2","score3"),sep="",timevar="score",times=c("mc","essay","final"),direction="long")
View(midterm2)
midterm2 <- reshape(midterm2,idvar="student_id",varying=c("score1","score2","score3"),sep="",timevar="score",times=c("1","2","3"),direction="long")
midterm2 <- midterm
colnames(midterm2) <- c("student_id","student_name","score1","score2","score3")
midterm2 <- reshape(midterm2,idvar="student_id",varying=c("score1","score2","score3"),sep="",timevar="score",times=c("1","2","3"),direction="long")
View(midterm2)
midterm2 <- midterm
colnames(midterm2) <- c("student_id","student_name","score1","score2","score3")
midterm2 <- reshape(midterm2,idvar="student_id",varying=c("score1","score2","score3"),sep="",timevar="score",direction="long")
View(midterm2)
midterm2 <- midterm
colnames(midterm2) <- c("student_id","student_name","score1","score2","score3")
midterm2 <- reshape(midterm2,idvar="student_id",varying=c("score1","score2","score3"),sep="",timevar= "score",times=c("1","2","3"),direction="long")
midterm2 <- reshape(midterm2,varying=c("score1","score2","score3"),sep="",timevar= "score",times=c("1","2","3"),direction="long",idvar="student_id")
midterm2 <- midterm
colnames(midterm2) <- c("student_id","student_name","score1","score2","score3")
midterm2 <- reshape(midterm2,varying=c("score1","score2","score3"),sep="",timevar= "score",times=c("1","2","3"),direction="long",idvar="student_id")
View(midterm2)
midterm2 <- midterm
colnames(midterm2) <- c("student_id","student_name","score1","score2","score3")
midterm2 <- reshape(midterm2,varying=c("score1","score2","score3"),sep="",times=c("1","2","3"),direction="long",idvar="student_id")
View(midterm2)
midterm2 <- midterm
colnames(midterm2)
midterm2 <- midterm
colnames(midterm2) <- c("student_id","student_name","score1","score2","score3")
midterm2 <- reshape(midterm2,varying=c("score1","score2","score3"),sep="",times=c("Multiple Choice Score","Essay Score","Final Score"),direction="long",idvar="student_id")
View(midterm2)
midterm2 <- midterm
colnames(midterm2) <- c("student_id","student_name","score1","score2","score3")
midterm2 <- reshape(midterm2,varying=c("score1","score2","score3"),sep="",timevar="test_type",times=c("Multiple Choice Score","Essay Score","Final Score"),direction="long",idvar="student_id")
View(midterm2)
str(midterm2$test_type)
midterm2$test_type <- ifelse(midterm2$test_type == 1, "Multiple Choice Score", ifelse(midterm2$test_type == 2, "Essay Score", ifelse(midterm2$test_type == 3, "Final Score", NA)))
View(midterm2)
View(mc)
colnames(midterm2)
ggplot(midterm2, aes(x = score, fill)) + geom_histogram(alpha=I(.2),position="identity",bins = 30, col=I("black")) + theme_bw() + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(), strip.background = element_blank()) + colScale + scale_x_continuous("Exam Section Score") + facet_wrap(~test_type, ncol = 3, scales = "free_y")
ggplot(midterm2, aes(x = score, fill)) + geom_histogram(alpha=I(.2),position="identity",bins = 30, col=I("black")) + theme_bw() + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(), strip.background = element_blank()) + scale_x_continuous("Exam Section Score") + facet_wrap(~test_type, ncol = 3, scales = "free_y")
ggplot(midterm2, aes(x = score)) + geom_histogram(alpha=I(.2),position="identity",bins = 30, col=I("black")) + theme_bw() + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(), strip.background = element_blank()) + scale_x_continuous("Exam Section Score") + facet_wrap(~test_type, ncol = 3, scales = "free_y")
ggplot(midterm2, aes(x = score)) + geom_histogram(alpha=I(.2),position="identity",bins = 30, col=I("black")) + theme_bw() + scale_x_continuous("Exam Section Score") + facet_wrap(~test_type, ncol = 3, scales = "free_y")
ggplot(midterm2, aes(x = score)) + geom_histogram(alpha=I(.2),position="identity",bins = 30, col=I("black")) + theme_bw() + scale_x_continuous("Exam Section Score") + facet_wrap(~test_type, ncol = 3, scales = "free_y") + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())
ggplot(midterm2, aes(x = score)) + geom_histogram(alpha=I(.2),position="identity",bins = 30, col=I("black")) + theme_bw() + scale_x_continuous("Exam Section Score") + facet_wrap(~test_type, ncol = 3, scales = "free_y") + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) + ggtitle("Pol 142C Exam Histograms by Section, Spring 2017") + scale_y_continuous(expand = c(0,.50), "Frequency")
ggplot(midterm2, aes(x = score)) + geom_histogram(alpha=I(.2),position="identity",bins = 30, col=I("black")) + theme_bw() + scale_x_continuous("Exam Section Score") + facet_wrap(~test_type, ncol = 3, scales = "free_y") + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) + ggtitle("Pol 142C Exam Histograms by Section, Spring 2017") + scale_y_continuous(expand = c(0,0), "Frequency")
ggplot(midterm2, aes(x = score)) + geom_histogram(alpha=I(.2),position="identity",bins = 30, col=I("black")) + theme_bw() + scale_x_continuous("Exam Section Score") + facet_wrap(~test_type, ncol = 3, scales = "free_y") + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) + ggtitle("Pol 142C Exam Histograms by Section, Spring 2017") + scale_y_continuous(expand = c(0,1), "Frequency")
ggplot(midterm2, aes(x = score)) + geom_histogram(alpha=I(.2),position="identity",bins = 30, col=I("black")) + theme_bw() + scale_x_continuous("Exam Section Score") + facet_wrap(~test_type, ncol = 3, scales = "free_y") + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) + ggtitle("Pol 142C Exam Histograms by Section, Spring 2017") + scale_y_continuous(expand = c(0,0.25), "Frequency")
ggplot(midterm2, aes(x = score)) + geom_histogram(alpha=I(.2),position="identity",bins = 30, col=I("black")) + theme_bw() + scale_x_continuous("Exam Section Score") + facet_wrap(~test_type, ncol = 3, scales = "free_y") + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) + ggtitle("Pol 142C Exam Histograms by Section, Spring 2017") + scale_y_continuous(expand = c(0,0.15), "Frequency")
midterm2$test_type <- factor(midterm2$test_type,levels=c("Multiple Choice Score","Essay Score","Final Score"))
ggplot(midterm2, aes(x = score)) + geom_histogram(alpha=I(.2),position="identity",bins = 30, col=I("black")) + theme_bw() + scale_x_continuous("Exam Section Score") + facet_wrap(~test_type, ncol = 3, scales = "free_y") + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) + ggtitle("Pol 142C Exam Histograms by Section, Spring 2017") + scale_y_continuous(expand = c(0,0.15), "Frequency")
ggplot(midterm2, aes(x = score)) + geom_histogram(alpha=I(.2),position="identity",bins = 30, col=I("black")) + theme_bw() + scale_x_continuous("Exam Section Score") + facet_wrap(~test_type, ncol = 3, scales = "free_x") + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) + ggtitle("Pol 142C Exam Histograms by Section, Spring 2017") + scale_y_continuous(expand = c(0,0.15), "Frequency")
ggplot(midterm2, aes(x = score)) + geom_histogram(alpha=I(.2),position="identity",bins = 10, col=I("black")) + theme_bw() + scale_x_continuous("Exam Section Score") + facet_wrap(~test_type, ncol = 3, scales = "free_x") + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) + ggtitle("Pol 142C Exam Histograms by Section, Spring 2017") + scale_y_continuous(expand = c(0,0.15), "Frequency")
ggplot(midterm2, aes(x = score)) + geom_histogram(alpha=I(.2),position="identity",bins = 12, col=I("black")) + theme_bw() + scale_x_continuous("Exam Section Score") + facet_wrap(~test_type, ncol = 3, scales = "free_x") + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) + ggtitle("Pol 142C Exam Histograms by Section, Spring 2017") + scale_y_continuous(expand = c(0,0.15), "Frequency")
ggplot(midterm2, aes(x = score)) + geom_histogram(alpha=I(.2),position="identity",bins = 13, col=I("black")) + theme_bw() + scale_x_continuous("Exam Section Score") + facet_wrap(~test_type, ncol = 3, scales = "free_x") + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) + ggtitle("Pol 142C Exam Histograms by Section, Spring 2017") + scale_y_continuous(expand = c(0,0.15), "Frequency")
ggplot(midterm2, aes(x = score)) + geom_histogram(alpha=I(.2),position="identity",bins = 14, col=I("black")) + theme_bw() + scale_x_continuous("Exam Section Score") + facet_wrap(~test_type, ncol = 3, scales = "free_x") + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) + ggtitle("Pol 142C Exam Histograms by Section, Spring 2017") + scale_y_continuous(expand = c(0,0.15), "Frequency")
ggplot(midterm2, aes(x = score)) + geom_histogram(alpha=I(.2),position="identity",bins = 13, col=I("black")) + theme_bw() + scale_x_continuous("Exam Section Score") + facet_wrap(~test_type, ncol = 3, scales = "free_x") + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) + ggtitle("Pol 142C Exam Histograms by Section, Spring 2017") + scale_y_continuous(expand = c(0,0.15), "Frequency")
ggplot(midterm2, aes(x = score)) + geom_histogram(alpha=I(.2),position="identity",bins = 12, col=I("black")) + theme_bw() + scale_x_continuous("Exam Section Score") + facet_wrap(~test_type, ncol = 3, scales = "free_x") + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) + ggtitle("Pol 142C Exam Histograms by Section, Spring 2017") + scale_y_continuous(expand = c(0,0.15), "Frequency")
library(foreign)
library(MASS)
library(UsingR)
library(nlme)
library(Zelig)
library(lmtest)
library(sandwich)
library(car)
library(directlabels)
library(bbmle)
library(maxLik)
library(ggplot2)
library(RGraphics)
library(lattice)
library(latticeExtra)
library(VGAM)
library(mvtnorm)
library(ordinal)
library(nnet)
library(sampleSelection)
library(pscl)
library(lmtest)
library(aod)
library(scales)
library(gridExtra)
library(reshape2)
library(network)
library(Matrix)
library(igraph)
library(gmodels)
library(pastecs)
library(dplyr)
library(plyr)
library(coefplot)
library(psych)
library(descr)
library(data.table)
library(multiwayvcov)
library(compositions)
library(rms)
library(effects)
# Import spreadsheets
library(xlsx)
mc <- read.xlsx("/Users/carlosalgara/Desktop/carlos_school/PhD_UC Davis/TA Courses/Pol142C_Democracy_Spring2017/Midterm_Stats/midterm_mcs.xlsx", sheetName = "midterm" , header = TRUE, stringsAsFactors = FALSE)
essays <- read.xlsx("/Users/carlosalgara/Desktop/carlos_school/PhD_UC Davis/TA Courses/Pol142C_Democracy_Spring2017/Midterm_Stats/midterm_essays.xlsx", sheetName = "Sheet1" , header = TRUE, stringsAsFactors = FALSE)
colnames(essays) <- c("student_id","student_name","essay_score")
mc$student_id <- as.numeric(mc$student_id)
essays$student_id <- as.numeric(essays$student_id)
midterm <- merge(mc,essays,by=c("student_id"),all=T)
midterm <- subset(midterm,select=c("student_id","student_name","mc_score","essay_score"))
# Note: Missing exam, Marquis Williams, is a 12.5/15 in the essay component.
midterm$essay_score[midterm$student_id == 914382814] <- 12.5
View(midterm)
colnames(midterm)
View(midterm)
midterm$mc_score[midterm$student_id == 912693819] <- 12
midterm$essay_score[midterm$student_id == 912693819] <- 11
midterm$final_score <- midterm$mc_score + midterm$essay_score
midterm$final_score_curved <- midterm$final_score  + 2
write.csv(midterm,"/Users/carlosalgara/Desktop/carlos_school/PhD_UC Davis/TA Courses/Pol142C_Democracy_Spring2017/Midterm_Stats/Pol142C_Democracy_Spring2017_midtermgrades.csv")
View(midterm)
View(midterm)
library(foreign)
library(MASS)
library(UsingR)
library(nlme)
library(Zelig)
library(lmtest)
library(sandwich)
library(car)
library(directlabels)
library(bbmle)
library(maxLik)
library(ggplot2)
library(RGraphics)
library(lattice)
library(latticeExtra)
library(VGAM)
library(mvtnorm)
library(ordinal)
library(nnet)
library(sampleSelection)
library(pscl)
library(lmtest)
library(aod)
library(scales)
library(gridExtra)
library(reshape2)
library(network)
library(Matrix)
library(igraph)
library(gmodels)
library(pastecs)
library(dplyr)
library(plyr)
library(coefplot)
library(psych)
library(descr)
library(data.table)
library(multiwayvcov)
library(compositions)
library(rms)
library(effects)
# Import spreadsheets
library(xlsx)
mc <- read.xlsx("/Users/carlosalgara/Desktop/carlos_school/PhD_UC Davis/TA Courses/Pol142C_Democracy_Spring2017/Midterm_Stats/midterm_mcs.xlsx", sheetName = "midterm" , header = TRUE, stringsAsFactors = FALSE)
essays <- read.xlsx("/Users/carlosalgara/Desktop/carlos_school/PhD_UC Davis/TA Courses/Pol142C_Democracy_Spring2017/Midterm_Stats/midterm_essays.xlsx", sheetName = "Sheet1" , header = TRUE, stringsAsFactors = FALSE)
colnames(essays) <- c("student_id","student_name","essay_score")
mc$student_id <- as.numeric(mc$student_id)
essays$student_id <- as.numeric(essays$student_id)
midterm <- merge(mc,essays,by=c("student_id"),all=T)
midterm <- subset(midterm,select=c("student_id","student_name","mc_score","essay_score"))
# Note: Missing exam, Marquis Williams, is a 12.5/15 in the essay component.
midterm$essay_score[midterm$student_id == 914382814] <- 12.5
# Note laptop student: essay 12/15, MC 11/15 ID: 912693819
midterm$mc_score[midterm$student_id == 912693819] <- 12
midterm$essay_score[midterm$student_id == 912693819] <- 11
midterm$final_score <- midterm$mc_score + midterm$essay_score
midterm$final_score_curved <- midterm$final_score  + 2
write.csv(midterm,"/Users/carlosalgara/Desktop/carlos_school/PhD_UC Davis/TA Courses/Pol142C_Democracy_Spring2017/Midterm_Stats/Pol142C_Democracy_Spring2017_midtermgrades.csv")
# Histograms
midterm2 <- midterm
colnames(midterm2) <- c("student_id","student_name","score1","score2","score3")
midterm2 <- reshape(midterm2,varying=c("score1","score2","score3"),sep="",timevar="test_type",times=c("Multiple Choice Score","Essay Score","Final Score"),direction="long",idvar="student_id")
midterm2$test_type <- ifelse(midterm2$test_type == 1, "Multiple Choice Score", ifelse(midterm2$test_type == 2, "Essay Score", ifelse(midterm2$test_type == 3, "Final Score", NA)))
midterm2$test_type <- factor(midterm2$test_type,levels=c("Multiple Choice Score","Essay Score","Final Score"))
ggplot(midterm2, aes(x = score)) + geom_histogram(alpha=I(.2),position="identity",bins = 12, col=I("black")) + theme_bw() + scale_x_continuous("Exam Section Score") + facet_wrap(~test_type, ncol = 3, scales = "free_x") + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) + ggtitle("Pol 142C Exam Histograms by Section, Spring 2017") + scale_y_continuous(expand = c(0,0.15), "Frequency")
install.packages(c("backports", "clusterSEs", "mclust", "Rcpp", "rlang", "tibble", "useful", "ZeligEI"))
install.packages("rmarkdown", type = "source")
library(rmarkdown)
touch _site.yml #"YML" file that tells your website how to assemble itself
touch index.Rmd #Create the main rmd file
touch about.Rmd #Create an about file
library(rmarkdown)
#touch _site.yml #"YML" file that tells your website how to assemble itself
#touch index.Rmd #Create the main rmd file
#touch about.Rmd #Create an about file
setwd("/Users/carlosalgara/Dropbox/Github_Website/calgara.github.io")
rmarkdown::render_site()
